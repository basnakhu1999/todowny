<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíï For ‡∏û‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡∏µ‡πà</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Anuphan:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Intro Screen -->
    <div class="intro-screen" id="introScreen">
        <div class="intro-bg-hearts">
            <span class="intro-float-heart">üíï</span>
            <span class="intro-float-heart">‚ù§Ô∏è</span>
            <span class="intro-float-heart">üíó</span>
            <span class="intro-float-heart">üíñ</span>
            <span class="intro-float-heart">ü§ç</span>
            <span class="intro-float-heart">üíï</span>
        </div>
        <div class="intro-content">
            <!-- Loading state (shown first) -->
            <div class="intro-loading" id="introLoading">
                <span class="loading-heart">üíó</span>
                <span class="loading-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å...</span>
            </div>

            <!-- Ready state (shown after load) -->
            <div class="intro-ready" id="introReady" style="display: none;">
                <div class="intro-envelope" id="introEnvelope" onclick="openIntro()">
                    <div class="envelope-icon">üíå</div>
                    <div class="envelope-glow"></div>
                </div>
                <p class="intro-text">‡∏°‡∏µ‡∏Ñ‡∏ô‡∏™‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏°‡∏≤‡πÉ‡∏´‡πâ...</p>
                <p class="intro-hint">‚ú® ‡πÅ‡∏ï‡∏∞‡∏ã‡∏≠‡∏á‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π ‚ú®</p>
            </div>
        </div>
    </div>

    <!-- Background Music Player -->
    <audio id="bgMusic" loop>
        <source src="https://github.com/basnakhu1999/todowny/raw/refs/heads/main/love.mp3" type="audio/mpeg">
    </audio>

    <!-- Music Control Button -->
    <div class="music-control" id="musicControl" onclick="toggleMusic()">
        <div class="music-icon" id="musicIcon">üéµ</div>
        <div class="sound-waves" id="soundWaves">
            <span class="wave-bar"></span>
            <span class="wave-bar"></span>
            <span class="wave-bar"></span>
            <span class="wave-bar"></span>
            <span class="wave-bar"></span>
        </div>
    </div>

    <!-- Floating Hearts Background -->
    <div class="hearts-container" id="heartsContainer"></div>

    <div id="app">
        <!-- Page 1: Welcome -->
        <section class="page active" id="page1">
            <div class="page-content">
                <div class="card-ribbon"><span class="ribbon-text">To ‡∏û‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡∏µ‡πàüíï</span></div>
                <img src="https://raw.githubusercontent.com/basnakhu1999/todowny/refs/heads/main/01.png" alt="cartoon"
                    class="corner-character">
                <div class="welcome-image">
                    <div class="couple-illustration">
                        <div class="heart-big">üíï</div>
                        <div class="sparkles">
                            <span class="sparkle">‚ú®</span>
                            <span class="sparkle">‚ú®</span>
                            <span class="sparkle">‚ú®</span>
                            <span class="sparkle">‚ú®</span>
                        </div>
                    </div>
                </div>
                <h1 class="title-main">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏û‡∏µ‡πà‡∏î‡∏π...</h1>
                <p class="subtitle">‡∏•‡∏≠‡∏á‡∏Å‡∏î‡πÑ‡∏õ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ ‡∏ô‡∏∞ üíï</p>
                <div class="btn-container" id="btnContainer">
                    <button class="btn-primary btn-disabled" id="startBtn" disabled>
                        <span>‡∏Å‡∏î‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ö</span>
                        <span class="btn-emoji">üíå</span>
                    </button>
                    <div class="heart-burst" id="heartBurst"></div>
                </div>
            </div>
        </section>

        <!-- Page 2: Memory Feel -->
        <section class="page" id="page2">
            <div class="page-content">
                <div class="card-ribbon"><span class="ribbon-text">To ‡∏û‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡∏µ‡πàüíï</span></div>
                <div class="feel-container">
                    <div class="feel-emoji" id="feelEmoji">ü•∞</div>
                    <p class="feel-text" id="feelText">‡∏ú‡∏°‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡∏ö‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏´‡∏•‡∏∞...</p>
                    <div class="feel-counter">
                        <span id="feelCounter">0</span> / <span id="feelTotal">5</span>
                    </div>
                    <div class="progress-hearts" id="progressHearts">
                        <span class="progress-heart">ü§ç</span>
                        <span class="progress-heart">ü§ç</span>
                        <span class="progress-heart">ü§ç</span>
                        <span class="progress-heart">ü§ç</span>
                        <span class="progress-heart">ü§ç</span>
                    </div>
                </div>
                <button class="btn-secondary" onclick="nextFeel()">
                    ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏Ñ‡πâ‡∏≤‡∏ö‡∏öüíó
                </button>
                <button class="btn-next" id="feelNextBtn" style="display:none" onclick="nextPage()">
                    ‡πÑ‡∏õ‡∏ï‡πà‡∏≠‡πÄ‡∏•‡∏¢ ‚Üí
                </button>
            </div>
        </section>

        <!-- Page 3: Photo Moment -->
        <section class="page" id="page3">
            <div class="page-content">
                <div class="card-ribbon"><span class="ribbon-text">To ‡∏û‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡∏µ‡πàüíï</span></div>
                <h2 class="section-title">‡πÉ‡∏Ñ‡∏£‡∏Å‡∏±‡∏ô‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏ô‡∏µ‡πâ</h2>
                <div class="photo-gallery">
                    <div class="photo-frame">
                        <div class="photo-placeholder" id="photoDisplay">
                            <span class="photo-icon">üì∑</span>
                            <p>‡∏£‡∏π‡∏õ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</p>
                        </div>
                    </div>
                    <p class="photo-caption" id="photoCaption">‡∏£‡∏π‡∏õ‡∏ô‡∏µ‡πâ...‡πÄ‡∏£‡∏≤‡πÄ‡∏ú‡∏•‡∏≠‡∏¢‡∏¥‡πâ‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏£‡∏π‡πâ‡πÑ‡∏´‡∏° üòä</p>
                </div>
                <div class="photo-dots" id="photoDots"></div>
                <button class="btn-secondary" onclick="nextPhoto()">
                    ‡∏î‡∏π‡∏£‡∏π‡∏õ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ üì∏
                </button>
                <button class="btn-next" id="photoNextBtn" style="display:none" onclick="nextPage()">
                    ‡πÑ‡∏õ‡∏î‡∏π‡∏ï‡πà‡∏≠ ‚Üí
                </button>
            </div>
        </section>

        <!-- Page 4: Postcard -->
        <section class="page" id="page4">
            <div class="page-content">
                <div class="card-ribbon"><span class="ribbon-text">To ‡∏û‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡∏µ‡πàüíï</span></div>
                <h2 class="section-title">üíå ‡πÄ‡∏î‡πá‡∏Å‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏û‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô</h2>
                <div class="card-container" onclick="startPostcard()">
                    <div class="postcard" id="postcard">
                        <div class="card-front">
                            <div class="card-decoration">üíù</div>
                            <p class="card-hint">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πå‡∏î</p>
                            <div class="card-hearts">‚ù§Ô∏è üíï ‚ù§Ô∏è</div>
                        </div>
                        <div class="card-back">
                            <div class="card-message" id="cardMessage">
                                <p class="greeting" id="greetingText"></p>
                                <p class="message-line" id="messageLine1"></p>
                                <p class="message-line" id="messageLine2"></p>
                                <p class="message-line" id="messageLine3"></p>
                                <p class="signature" id="signatureText"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="btn-next" id="postcardNextBtn" style="display:none" onclick="nextPage()">
                    ‡πÑ‡∏õ‡∏ï‡πà‡∏≠ ‚Üí
                </button>
            </div>
        </section>

        <!-- Postcard Image Popup -->
        <div class="postcard-popup" id="postcardPopup">
            <div class="popup-content">
                <button class="popup-close" onclick="closePostcardPopup()">‚úï</button>
                <img src="https://c8.alamy.com/comp/2HBYYFG/romantic-set-of-postcard-love-valentines-day-vector-design-concept-for-valentines-day-and-other-users-2HBYYFG.jpg"
                    alt="Valentine Postcard" class="popup-image">
            </div>
        </div>

        <!-- Page 5: ‡∏ù‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å -->
        <section class="page" id="page5">
            <div class="page-content">
                <div class="card-ribbon"><span class="ribbon-text">To ‡∏û‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡∏µ‡πàüíï</span></div>
                <h2 class="section-title">üí¨ ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ñ‡∏∂‡∏á‡∏ú‡∏°‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏ô‡πâ‡∏≤‡∏≤</h2>
                <p class="form-intro">‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏≠‡πà‡∏≤‡∏ô‡∏ô‡∏∞ üôÇ</p>
                <form id="feelingForm" onsubmit="sendToSheet(event)">
                    <div class="form-group">
                        <label for="nickname">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</label>
                        <input type="text" id="nickname" placeholder="‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏â‡∏±‡∏ô‡∏ß‡πà‡∏≤...">
                    </div>
                    <div class="form-group">
                        <label for="message">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ö‡∏≠‡∏Å</label>
                        <textarea id="message" rows="4" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ö‡∏≠‡∏Å..."></textarea>
                    </div>
                    <button type="submit" class="btn-primary">
                        ‡∏™‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å üíñ
                    </button>
                </form>
                <button class="btn-skip" onclick="nextPage()">
                    ‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏Å‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏•‡∏¢‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ö (‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô)
                </button>
            </div>
        </section>

        <!-- Page 6: ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ -->
        <section class="page" id="page6">
            <div class="page-content final-page">
                <div class="card-ribbon"><span class="ribbon-text">To ‡∏û‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡∏µ‡πàüíï</span></div>
                <div class="final-hearts">
                    <span class="heart-float">üíï</span>
                    <span class="heart-float">‚ù§Ô∏è</span>
                    <span class="heart-float">üíó</span>
                </div>
                <div class="final-message">
                    <p class="final-line">‡∏Å‡∏î‡∏°‡∏≤‡∏ñ‡∏∂‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡∏û‡∏µ‡πà‡∏î‡∏≤‡∏ß</p>
                    <p class="final-line">‡πÅ‡∏Ñ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‚Ä¶</p>
                    <p class="final-highlight">‡∏°‡∏±‡∏ô‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏î‡πá‡∏Å‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô üíó</p>
                </div>
                <div class="final-divider">‚ú®</div>
                <p class="final-sub">‡πÅ‡∏ö‡∏ö‡∏ß‡πà‡∏≤...<br>‡∏ñ‡πâ‡∏≤‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ô‡∏µ‡πâ‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡πÑ‡∏Å‡∏•‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏£‡∏µ‡∏ö ‡πÑ‡∏°‡πà‡∏Å‡∏î‡∏î‡∏±‡∏ô</p>
                <button class="btn-final" onclick="celebrate()">
                    ‡∏Å‡∏î‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ö üòä
                </button>
                <button class="btn-next-final" id="restartBtn" style="display:none" onclick="showFinalExchange()">
                    ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‚Üí
                </button>
            </div>
        </section>
    </div>

    <!-- Final Message Exchange Overlay -->
    <div class="exchange-overlay" id="exchangeOverlay">
        <div class="exchange-content">
            <h2 class="exchange-title">üíï ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ üíï</h2>

            <!-- Chat Messages Container -->
            <div class="chat-container" id="chatContainer">
                <!-- Her message (from form/Google Sheets) -->
                <div class="exchange-character her-side" id="herSide" style="display: none;">
                    <img src="https://raw.githubusercontent.com/basnakhu1999/todowny/refs/heads/main/her.png" alt="her"
                        class="exchange-avatar">
                    <div class="speech-bubble her-bubble" id="herMessage">
                        <span class="bubble-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
                    </div>
                </div>

                <!-- My messages container (will be added dynamically) -->
                <div id="myMessagesContainer"></div>

                <!-- Typing indicator (appears at the bottom of my messages) -->
                <div class="typing-indicator my-typing" id="typingIndicator" style="display: none;">
                    <span class="typing-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå</span>
                    <span class="typing-dots">
                        <span></span><span></span><span></span>
                    </span>
                </div>
            </div>

            <button class="btn-restart" id="restartBtnFinal" style="display: none;" onclick="restartSurprise()">
                üè† ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡∏ô‡πâ‡∏≤
            </button>
        </div>
    </div>

    <!-- Page Indicator -->
    <div class="page-indicator" id="pageIndicator">
        <span class="indicator-dot active"></span>
        <span class="indicator-dot"></span>
        <span class="indicator-dot"></span>
        <span class="indicator-dot"></span>
        <span class="indicator-dot"></span>
        <span class="indicator-dot"></span>
    </div>

    <!-- Confetti Canvas -->
    <canvas id="confettiCanvas"></canvas>

    <!-- Celebration Overlay -->
    <div class="celebration-overlay" id="celebrationOverlay">
        <div class="celebration-content">
            <img src="https://raw.githubusercontent.com/basnakhu1999/todowny/refs/heads/main/end.png" alt="celebration"
                class="celebration-image">
            <div class="celebration-hearts"></div>
            <p class="celebration-text">Happy Valentine's Day! üíï</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>